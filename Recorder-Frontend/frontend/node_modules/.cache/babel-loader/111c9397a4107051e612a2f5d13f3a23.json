{"ast":null,"code":"var _jsxFileName = \"/Users/modsiw/Programming/Recorder-Project/frontend/src/pages/Editor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport '../components/Editor/index.css';\nimport { styled, alpha } from '@mui/material/styles';\nimport { Box, Stack, Button, Divider, Input, Menu, MenuItem } from '@mui/material'; // EditIcon, ArchiveIcon, FileCopyIcon, MoreHorizIcon\n\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport { StylesProvider } from '@mui/styles';\nimport { registerPost } from '../redux/actions/auth';\nimport { getCategory } from '../redux/actions/auth';\nimport axios from 'axios';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledMenu = styled(props => /*#__PURE__*/_jsxDEV(Menu, {\n  elevation: 0,\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'left'\n  },\n  transformOrigin: {\n    vertical: 'top',\n    horizontal: 'left'\n  },\n  ...props\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 5\n}, this))(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .MuiPaper-root': {\n      borderRadius: 6,\n      marginTop: theme.spacing(1),\n      minWidth: 150,\n      color: theme.palette.mode === 'light' ? 'rgb(55, 65, 81)' : theme.palette.grey[300],\n      boxShadow: 'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\n      '& .MuiMenu-list': {\n        padding: '4px 0'\n      },\n      '& .MuiMenuItem-root': {\n        '& .MuiSvgIcon-root': {\n          fontSize: 18,\n          color: theme.palette.text.secondary,\n          marginRight: theme.spacing(1.5)\n        },\n        '&:active': {\n          backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n        }\n      }\n    }\n  };\n});\n_c = StyledMenu;\nexport default function Editor() {\n  _s();\n\n  const [categoryData, setCategoryData] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [category, setCategory] = useState('');\n  const [successful, setSuccessful] = useState(false);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const [categoryId, setCategoryId] = useState('');\n  const [categoryName, setCategoryName] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = event => {\n    // console.log('event', event.target.innerText);\n    setCategory(event.target.innerText);\n    setAnchorEl(null);\n  };\n\n  const onRegisterPost = () => {\n    setSuccessful(false);\n    axios.get('http://localhost:8080/board/categories/users/1').then(response => {\n      setCategoryData(response.data.data[0].categoryId);\n    });\n    console.log('category_id', categoryData);\n    dispatch(registerPost(currentUser.userId, categoryData, title, content)).then(() => {\n      setSuccessful(true);\n      navigate('/');\n    }).catch(() => {\n      setSuccessful(false);\n    });\n    console.log('currentUser.userId', currentUser.userId); // console.log('category_id', categoryId);\n\n    console.log('title', registerPost.title);\n    console.log('content', registerPost.content);\n  };\n\n  const onTitleHandler = e => {\n    setTitle(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    gap: 1,\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100vw',\n      height: '100vh',\n      backgroundColor: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '90%',\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        id: \"demo-customized-button\",\n        \"aria-controls\": open ? 'demo-customized-menu' : undefined,\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": open ? 'true' : undefined,\n        variant: \"outlined\",\n        disableElevation: true,\n        onClick: handleClick,\n        endIcon: /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 30\n        }, this),\n        sx: {\n          width: 150,\n          display: 'flex'\n        },\n        children: categoryName == '' ? '카테고리' : categoryName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StyledMenu, {\n        id: \"demo-customized-menu\",\n        MenuListProps: {\n          'aria-labelledby': 'demo-customized-button'\n        },\n        anchorEl: anchorEl,\n        open: open,\n        onClose: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClose,\n          disableRipple: true,\n          children: \"\\uD30C\\uC774\\uC36C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClose,\n          disableRipple: true,\n          children: \"\\uC790\\uBC14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClose,\n          disableRipple: true,\n          children: \"\\uC790\\uBC14\\uC2A4\\uD06C\\uB9BD\\uD2B8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClose,\n          disableRipple: true,\n          children: \"\\uB9AC\\uC561\\uD2B8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '90%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\uC81C\\uBAA9\",\n        sx: {\n          width: '100%',\n          px: '10px',\n          fontSize: 'h5.fontSize',\n          fontStyle: 'bold'\n        },\n        onChange: onTitleHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        color: 'black',\n        width: '90%'\n      },\n      children: /*#__PURE__*/_jsxDEV(CKEditor, {\n        editor: ClassicEditor,\n        onReady: editor => {\n          console.log('Editor is ready to use!', editor);\n        },\n        onChange: (event, editor) => {\n          const data = editor.getData();\n          setContent(data);\n        },\n        onBlur: (event, editor) => {\n          console.log('Blur.', editor);\n        },\n        onFocus: (event, editor) => {\n          console.log('Focus.', editor);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        width: '90%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 1,\n        direction: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          disableElevation: true,\n          children: \"\\uC784\\uC2DC\\uC800\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: onRegisterPost,\n          disableElevation: true,\n          children: \"Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Editor, \"ced6aPLcfQXZRXAzizaMvzvRGZw=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c2 = Editor;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledMenu\");\n$RefreshReg$(_c2, \"Editor\");","map":{"version":3,"sources":["/Users/modsiw/Programming/Recorder-Project/frontend/src/pages/Editor.js"],"names":["React","useState","useEffect","useDispatch","useNavigate","useSelector","styled","alpha","Box","Stack","Button","Divider","Input","Menu","MenuItem","KeyboardArrowDownIcon","StylesProvider","registerPost","getCategory","axios","CKEditor","ClassicEditor","StyledMenu","props","vertical","horizontal","theme","borderRadius","marginTop","spacing","minWidth","color","palette","mode","grey","boxShadow","padding","fontSize","text","secondary","marginRight","backgroundColor","primary","main","action","selectedOpacity","Editor","categoryData","setCategoryData","anchorEl","setAnchorEl","category","setCategory","successful","setSuccessful","title","setTitle","content","setContent","user","currentUser","state","auth","categoryId","setCategoryId","categoryName","setCategoryName","dispatch","navigate","open","Boolean","handleClick","event","currentTarget","handleClose","target","innerText","onRegisterPost","get","then","response","data","console","log","userId","catch","onTitleHandler","e","value","display","flexDirection","justifyContent","alignItems","width","height","undefined","px","fontStyle","editor","getData"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport '../components/Editor/index.css';\nimport { styled, alpha } from '@mui/material/styles';\nimport { Box, Stack, Button, Divider, Input, Menu, MenuItem } from '@mui/material';\n// EditIcon, ArchiveIcon, FileCopyIcon, MoreHorizIcon\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport { StylesProvider } from '@mui/styles';\nimport { registerPost } from '../redux/actions/auth';\nimport { getCategory } from '../redux/actions/auth';\nimport axios from 'axios';\n\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nconst StyledMenu = styled((props) => (\n    <Menu\n      elevation={0}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'left',\n      }}\n      {...props}\n    />\n  ))(({ theme }) => ({\n    '& .MuiPaper-root': {\n      borderRadius: 6,\n      marginTop: theme.spacing(1),\n      minWidth: 150,\n      color:\n        theme.palette.mode === 'light' ? 'rgb(55, 65, 81)' : theme.palette.grey[300],\n      boxShadow:\n        'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\n      '& .MuiMenu-list': {\n        padding: '4px 0',\n      },\n      '& .MuiMenuItem-root': {\n        '& .MuiSvgIcon-root': {\n          fontSize: 18,\n          color: theme.palette.text.secondary,\n          marginRight: theme.spacing(1.5),\n        },\n        '&:active': {\n          backgroundColor: alpha(\n            theme.palette.primary.main,\n            theme.palette.action.selectedOpacity,\n          ),\n        },\n      },\n    },\n  }));\n\nexport default function Editor() {\n    const [categoryData, setCategoryData] = useState(null);\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [category, setCategory] = useState('');\n    const [successful, setSuccessful] = useState(false);\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const { user: currentUser } = useSelector((state) => state.auth);\n\n    const [categoryId, setCategoryId] = useState('');\n    const [categoryName, setCategoryName] = useState('');\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = (event) => {\n        // console.log('event', event.target.innerText);\n        setCategory(event.target.innerText);\n        setAnchorEl(null);\n    };\n\n    \n\n    const onRegisterPost = () => {\n      setSuccessful(false);\n      \n      axios\n      .get('http://localhost:8080/board/categories/users/1')\n      .then(response => {\n        setCategoryData(response.data.data[0].categoryId);\n      });\n\n      console.log('category_id', categoryData);\n\n      dispatch(registerPost(currentUser.userId, categoryData, title, content))\n        .then(() => {\n        setSuccessful(true);\n        navigate('/');\n      })\n        .catch(() => {\n        setSuccessful(false);\n      });\n      \n\n      console.log('currentUser.userId', currentUser.userId);\n      // console.log('category_id', categoryId);\n      console.log('title', registerPost.title);\n      console.log('content', registerPost.content);\n    }\n\n    const onTitleHandler = (e) => {\n      setTitle(e.target.value);\n    }\n\n    return (\n        <Box \n        gap={1}\n        sx={{ \n        display: 'flex',\n        flexDirection: 'column', \n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100vw',\n        height: '100vh',\n        backgroundColor: 'white',\n        }}\n        >\n            <Box\n                sx={{ \n                    width: '90%',\n                    display: 'flex',\n                }}\n            >\n                <Button\n                    id=\"demo-customized-button\"\n                    aria-controls={open ? 'demo-customized-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    aria-expanded={open ? 'true' : undefined}\n                    variant=\"outlined\"\n                    disableElevation\n                    onClick={handleClick}\n                    endIcon={<KeyboardArrowDownIcon />}\n                    sx={{ \n                        width: 150,\n                        display: 'flex',\n                    }}\n                >   \n                    {categoryName=='' ? '카테고리' : categoryName}\n                </Button>\n                <StyledMenu\n                    id=\"demo-customized-menu\"\n                    MenuListProps={{\n                    'aria-labelledby': 'demo-customized-button',\n                    }}\n                    anchorEl={anchorEl}\n                    open={open}\n                    onClose={handleClose}\n                >\n                    <MenuItem onClick={handleClose} disableRipple>\n                        파이썬\n                    </MenuItem>\n                    <MenuItem onClick={handleClose} disableRipple>\n                        자바\n                    </MenuItem>\n                    <MenuItem onClick={handleClose} disableRipple>\n                        자바스크립트\n                    </MenuItem>\n                    <MenuItem onClick={handleClose} disableRipple>\n                        리액트\n                    </MenuItem>\n                </StyledMenu>\n            </Box>\n            \n          <Box\n                sx={{ \n                    width: '90%',\n                }}\n            >\n                <Input \n                    placeholder=\"제목\" \n                    sx={{ \n                        width: '100%',\n                        px: '10px',\n                        fontSize: 'h5.fontSize',\n                        fontStyle: 'bold',\n                    }}\n                    onChange={onTitleHandler} \n                />\n            </Box>\n            <Box \n                sx={{ \n                    color: 'black',\n                    width: '90%',\n                }}\n            >\n                <CKEditor\n                    editor={ ClassicEditor }\n                    onReady={ editor => {\n                        console.log( 'Editor is ready to use!', editor );\n                    } }\n                    onChange={ \n                      ( event, editor ) => {\n                      const data = editor.getData();\n                      setContent(data);\n                      }\n                    }\n                    onBlur={ ( event, editor ) => {\n                        console.log( 'Blur.', editor );\n                    } }\n                    onFocus={ ( event, editor ) => {\n                        console.log( 'Focus.', editor );\n                    } }\n                />\n            </Box>\n            <Divider />\n            <Box sx={{\n                    display: 'flex',\n                    justifyContent: 'flex-end',\n                    width: '90%',\n                }}>\n                <Stack spacing={1} direction=\"row\" >\n                    <Button variant=\"outlined\" disableElevation>임시저장</Button>\n                    <Button variant=\"contained\" onClick={onRegisterPost} disableElevation >Record</Button>\n                </Stack>\n            </Box>\n\n    </Box>\n    );\n}\n\n\n\n  \n"]},"metadata":{},"sourceType":"module"}